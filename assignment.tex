\documentclass[
            a4paper
            ]{scrartcl}%article

%\usepackage[biber]{assignment}
%\addbibresource{references.bib}
\usepackage{assignment}


\title{Praktisches Übungsbeispiel SS2014}
\subtitle{Zuverlässigkeitsmodellierung}
\rohead{Übungsbeispiel SS14}
\subject{VU Dependable Systems 182.712}

\author{
 \authorname{Markus Kessler} \\
 \studentnumber{1225380} \\
 \curriculum{033 535}\\
 \email{e1225380@student.tuwien.ac.at}\\\\
 \authorname{Mathias Lechner} \\
 \studentnumber{1225134} \\
 \curriculum{033 535}\\
 \email{e1225134@student.tuwien.ac.at}\\\\
 \authorname{Martin Wührer} \\
 \studentnumber{1225177} \\
 \curriculum{033 535}\\
 \email{e1225177@student.tuwien.ac.at}
}

\lohead{Kessler, Lechner, Wührer}


\begin{filecontents}{DataTable.dat}
x                        y                        labela                   labelb
1.416197036356566059e+02 5.144315570548267715e+03 7.000000000000000000e+00 1.000000000000000000e+00
2.416197036356566059e+02 3.144315570548267715e+03 8.000000000000000000e+00 4.000000000000000000e+00
4.416197036356566059e+02 1.144315570548267715e+03 6.000000000000000000e+00 2.000000000000000000e+00
\end{filecontents}


\begin{document}

\renewcommand*{\Frefeqname}{Gleichung}

\maketitle

\newpage

\begin{figure}
    \centering
    \begin{subfigure}[b]{0.48\linewidth}
    \centering
    \scalebox{.85}{
    \begin{tikzpicture}
        \tikzstyle{node} = [top color=white, bottom color=blue!30, 
                                draw=blue!50!black!100, drop shadow]
        \tikzstyle{switch} = [top color=white, bottom color=red!30, 
                                draw=red!50!black!100, drop shadow,
                                rounded corners=5pt]
        \node[switch](sw1){Switch};
        \node[node] (nd1)   [above left=of sw1]{Node 1};
        \node[node] (nd2)   [above=of sw1]{Node 2};
        \node[node] (nd3)   [above right=of sw1]{Node 3};

        \path (sw1) edge (nd1);
        \path (sw1) edge (nd2);
        \path (sw1) edge (nd3);
    \end{tikzpicture}}
    \caption{Einfache Variante}
    \end{subfigure}
    \begin{subfigure}[b]{0.48\linewidth}
    \scalebox{.85}{
    \begin{tikzpicture}
        \tikzstyle{node} = [top color=white, bottom color=blue!30, 
                                draw=blue!50!black!100, drop shadow]
        \tikzstyle{backup} = [bottom color=green!30]
        \tikzstyle{switch} = [top color=white, bottom color=red!30, 
                                draw=red!50!black!100, drop shadow,
                                rounded corners=5pt]

        \node[switch](sw1){Switch 1};
        \node[switch,backup](sw2)  [right=of sw1]{Switch 2};
        \node[node] (nd1)   [above left=of sw1]{Node 1};
        \node[node] (nd2)   [above=of sw1]{Node 2};
        \node[node] (nd3)   [above=of sw2]{Node 3};
        \node[node,backup] (nd4)   [above right=of sw2]{Node 4};

        \path (sw1) edge (nd1);
        \path (sw1) edge (nd2);
        \path (sw1) edge (nd3);
        \path (sw1) edge (nd4);

        \path (sw2) edge (nd1);
        \path (sw2) edge (nd2);
        \path (sw2) edge (nd3);
        \path (sw2) edge (nd4);
    \end{tikzpicture}}
    \caption{Fehlertolerant erweiterte Variante}
    \end{subfigure}
    \caption{Einfache und fehlertolerant erweiterte Variante des Computersystems}
\end{figure}

\begin{tikzpicture}[>=latex]
    \tikzstyle{markov} = [top color=blue!30, bottom color=white, 
                    draw=blue!50!black!100, drop shadow]
    \tikzstyle{bad} = [top color=red!30]

    \node[markov,circle split] (1) {$3/3$ \nodepart{lower} $1/1$};
    \node[markov,bad,circle split] (2) [above right=of 1]{$2/3$ \nodepart{lower} $1/1$};
    \node[markov,bad,circle split] (3) [below right=of 1]{$3/3$ \nodepart{lower} $0/1$};
    \draw[->] (1) to node[sloped,above]{$3\lambda_R$}(2);
    \draw[->] (1) to node[sloped,above]{$\lambda_N$}(3);
\end{tikzpicture}

\begin{tikzpicture}[>=latex]
    \tikzstyle{markov} = [top color=blue!30, bottom color=white, 
                    draw=blue!50!black!100, drop shadow]
    \tikzstyle{bad} = [top color=red!30]

    \node[markov,circle,label=below right:{1}] (1) {Alive};
    \node[markov,bad,circle,label=below right:{2}] (2) [right=5 of 1]{Dead};
    \draw[->] (1) to node[sloped,above]{$3\lambda_R + \lambda_N$}(2);
\end{tikzpicture}

\begin{tikzpicture}[>=latex]
    \tikzstyle{markov} = [top color=blue!30, bottom color=white, 
                    draw=blue!50!black!100, drop shadow]
    \tikzstyle{bad} = [top color=red!30]

    \node[markov,circle split,label=below left:{1}] (42) {$4/4$ \nodepart{lower} $2/2$};
    \node[markov,circle split,label=above right:{2}] (32) [above right=of 42]{$3/4$ \nodepart{lower} $2/2$};
    \node[markov,circle split,label=below right:{4}] (31) [below right=of 32]{$3/4$ \nodepart{lower} $1/2$};
    \node[markov,circle split,label=below right:{3}] (41) [below right=of 42]{$4/4$ \nodepart{lower} $1/2$};
    \node[markov,bad,circle,label=below right:{5}] (d)  [right=3 of 31]{dead};
    \draw[->] (42) to node[sloped,above]{$4\lambda_R$}(32);
    \draw[->] (32) to[bend right=45] node[sloped,above]{$\mu_R$}(42);
    \draw[->] (42) to node[sloped,above]{$2\lambda_N$}(41);
    \draw[->] (41) to[bend right=-45] node[sloped,above]{$\mu_N$}(42);
    \draw[->] (41) to node[sloped,above]{$4\lambda_R$}(31);
    \draw[->] (31) to node[sloped,above]{$\mu_N$} (42);
    \draw[->] (32) to node[sloped,above]{$2\lambda_N$}(31);
    \draw[->] (32) to[bend left=20] node[sloped,above]{$3\lambda_R$}(d);
    \draw[->] (31) to node[sloped,above]{$3\lambda_R+\lambda_N$}(d);
    \draw[->] (41) to[bend right=20] node[sloped,above]{$\lambda_N$}(d);
\end{tikzpicture}

\begin{tikzpicture}
    \begin{axis}[xmin=0, xmax=1800,
        height=5.2cm, width=12cm,
        ymin=0, ymax=1,
        axis lines=center,
        axis on top=true,
        domain=0:1,
        %ylabel=Number of failed banks
        ] % use TeX as calculator: 
    \addplot[blue,thick,domain=0:1800,samples=100] table {values_simple_mttf.dat}; 
    \addplot[red,thick,domain=0:1800,samples=100] table {values_redundancy_mttf.dat}; 
    \addplot[green,thick,domain=0:1800,samples=100] table {values_redundancy_without_repair_mttf.dat}; 
    \end{axis} 
\end{tikzpicture}

\appendix
\section{Sharpe-Quellcode}
\subsection{MTTF Ohne Redundanz}
\lstinputlisting{simple_mttf.shp}
\subsection{MTTF Mit Redundanz inklusive Reparatur}
\lstinputlisting{redundancy_mttf.shp}
\subsection{MTTF Mit Redundanz ohne Reparatur}
\lstinputlisting{redundancy_without_repair_mttf.shp}

\end{document}
